# 提示词质量检查清单

设计或修改提示词时，按此清单逐项验证。

---

## 1. 结构完整性

- [ ] 包含明确的角色定位 (`You are...`)
- [ ] 包含清晰的任务声明 (`Your task is to...`)
- [ ] 使用 XML 标签组织输入/输出/约束
- [ ] 明确输出格式要求

---

## 2. 标签职责分离（重要）

- [ ] `<thinking>` 标签已标注 **"不直接输出给用户"** 或 **"此思考过程为内部推理"**
- [ ] `<output_format>` **不包含** 多个用 `---` 分隔的格式模板
- [ ] 多场景格式选择逻辑放在 `<instructions>` 中
- [ ] `<output_format>` 只包含通用格式规范（Markdown、表格等）

### 常见错误示例

```
❌ output_format 中并列多种模板：

<output_format>
【分析类问题】
**分析过程：** [...]
---
【事实类问题】
**回答：** [...]
</output_format>

→ 问题：AI 会把所有格式都输出
```

```
✅ 正确做法：

<instructions>
...
X. **格式选择**：根据问题类型选择输出结构：
   - 分析类：使用 "**分析过程**" + "**结论**"
   - 事实类：使用 "**回答**" + "**来源/验证**"
</instructions>

<output_format>
- 使用 Markdown 格式排版
- 对比数据使用表格
</output_format>
```

---

## 3. Anthropic 最佳实践

- [ ] 使用**肯定式指令**而非否定式
  - ❌ `"Don't make up information"`
  - ✅ `"Only use information from the provided document"`
- [ ] 复杂任务包含**思维链引导**（Think step by step）
- [ ] 事实性任务包含**引用/验证机制**
- [ ] 长输出任务包含**截断/继续机制**

---

## 4. 可用性

- [ ] 提示词简洁清晰，无冗余指令
- [ ] 包含必要的示例（Few-Shot）
- [ ] 约束条件合理且可执行
- [ ] 支持用户迭代和反馈

---

## 5. 场景特定检查

### 代码类

- [ ] 使用 `<code>` 标签包裹代码输入
- [ ] 包含语言规范（PEP8、ESLint 等）
- [ ] 要求输出包含注释和解释
- [ ] 强调边界情况和错误处理

### 文档类

- [ ] 使用 `<document>` 标签包裹文档输入
- [ ] 明确输出格式（表格/列表/JSON）
- [ ] 强调信息的完整性和准确性

### 创意类

- [ ] 鼓励创造性但保持用户控制
- [ ] 提供风格/语气选项
- [ ] 支持迭代优化

### 学术/科研类

- [ ] 包含 ReAct 验证机制
- [ ] 使用思维链（CoT）进行逐步推理
- [ ] 公式使用 LaTeX 格式，标注变量含义
- [ ] 区分事实和推断

### 引用来源类

- [ ] 明确限定 "ONLY use information from the provided document"
- [ ] 要求引用来源
- [ ] 包含置信度评估

---

## 快速检查流程

1. **结构检查** → 角色 + 任务 + 指令 + 格式 + 约束
2. **标签检查** → thinking 不输出 + output_format 无并列模板
3. **语句检查** → 肯定式 + CoT（如需要）
4. **场景检查** → 根据类型检查特定要素
