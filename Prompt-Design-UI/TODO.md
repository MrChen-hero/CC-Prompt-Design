# Prompt Designer Web UI - è®¾è®¡æ–¹æ¡ˆ

> **é¡¹ç›®ç›®æ ‡**ï¼šåˆ›å»ºä¸€ä¸ªå¯è§†åŒ–çš„ Web ç«¯ UIï¼Œç”¨äºè®¾è®¡ã€ç”Ÿæˆã€å­˜å‚¨å’Œè½¬æ¢ AI æç¤ºè¯ã€‚

---

## ä¸€ã€é¡¹ç›®æ¦‚è¿°

### 1.1 æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½æ¨¡å— | æè¿° |
|----------|------|
| **æ¨¡å‹ API æ¥å…¥** | æ”¯æŒå¤šç§ç¬¬ä¸‰æ–¹ AI æ¨¡å‹ APIï¼Œç”¨æˆ·å¯è‡ªç”±é€‰æ‹© |
| **CLI ä¸“ä¸šæç¤ºè¯ç”Ÿæˆ** | éµå¾ª Anthropic å®˜æ–¹å‡†åˆ™ï¼ˆCLAUDE.mdï¼‰ç”Ÿæˆç»“æ„åŒ–æç¤ºè¯ |
| **Web ç«¯ç®€æ˜æç¤ºè¯ç”Ÿæˆ** | éµå¾ª Webrule.md è§„åˆ™ç”Ÿæˆé€‚ç”¨äº Web å¯¹è¯çš„æç¤ºè¯ |
| **æç¤ºè¯å­˜å‚¨** | ä¿å­˜ç”¨æˆ·ç”Ÿæˆçš„æç¤ºè¯ï¼Œæ”¯æŒéšå–éšç”¨ |
| **ä¸€é”®æ ¼å¼åˆ‡æ¢** | CLI â†” Web æ ¼å¼äº’è½¬ï¼ŒåŒç‰ˆæœ¬å¹¶å­˜ |

### 1.2 æŠ€æœ¯æ ˆï¼ˆå·²ç¡®è®¤ï¼‰

| å±‚çº§ | æŠ€æœ¯é€‰å‹ | è¯´æ˜ |
|------|----------|------|
| **å‰ç«¯æ¡†æ¶** | React 18 + TypeScript | å¹¶å‘ç‰¹æ€§æ”¯æŒæµå¼æ¸²æŸ“ |
| **æ„å»ºå·¥å…·** | Vite 5 | å¿«é€Ÿ HMRï¼ŒåŸç”Ÿ ESM |
| **UI ç»„ä»¶åº“** | Tailwind CSS + shadcn/ui | å¯å®šåˆ¶ã€æ— è¿è¡Œæ—¶ä¾èµ– |
| **çŠ¶æ€ç®¡ç†** | Zustand | è½»é‡çº§ã€TS å‹å¥½ |
| **AI SDK** | Vercel AI SDK | æµå¼è¾“å‡ºã€å¤šæ¨¡å‹æ”¯æŒ |
| **æœ¬åœ°å­˜å‚¨** | Dexie.js (IndexedDB) | ç»“æ„åŒ–æœ¬åœ°æ•°æ®åº“ |
| **è·¯ç”±** | React Router v6 | å£°æ˜å¼è·¯ç”± |
| **éƒ¨ç½²** | Vercel | é›¶é…ç½®éƒ¨ç½²ã€è¾¹ç¼˜å‡½æ•° |

### 1.3 æŠ€æœ¯é€‰å‹ç†ç”±

#### ä¸ºä»€ä¹ˆé€‰æ‹© React + shadcn/uiï¼Ÿ

| å†³ç­–å› ç´  | è¯´æ˜ |
|----------|------|
| **shadcn/ui ç»‘å®š** | è¯¥ç»„ä»¶åº“ä»…æ”¯æŒ Reactï¼ˆåŸºäº Radix UIï¼‰ |
| **æµå¼è¾“å‡º** | React 18 å¹¶å‘ç‰¹æ€§ + Suspense å¤©ç„¶æ”¯æŒ AI æµå¼å“åº” |
| **Vercel ç”Ÿæ€** | Vercel AI SDK ä¸ React æ·±åº¦é›†æˆ |
| **ç¤¾åŒºèµ„æº** | AI/LLM ç›¸å…³çš„ React ç»„ä»¶åº“æœ€ä¸°å¯Œ |

#### ä¸ºä»€ä¹ˆé€‰æ‹© Vercel AI SDKï¼Ÿ

```typescript
// ä¸€è¡Œä»£ç å®ç°æµå¼è¾“å‡º
const { messages, input, handleSubmit } = useChat({
  api: '/api/chat',
  onFinish: (message) => saveToLibrary(message)
});
```

- å†…ç½® `useChat`ã€`useCompletion` hooks
- è‡ªåŠ¨å¤„ç†æµå¼å“åº”è§£æ
- æ”¯æŒ Anthropicã€OpenAIã€Google ç­‰å¤šæ¨¡å‹

---

## äºŒã€åŠŸèƒ½æ¨¡å—è¯¦ç»†è®¾è®¡

### 2.1 æ¨¡å‹ API æ¥å…¥æ¨¡å—

#### 2.1.1 æ”¯æŒçš„æ¨¡å‹

| æ¨¡å‹æä¾›å•† | æ¨¡å‹ | API ç«¯ç‚¹ |
|------------|------|----------|
| **Anthropic** | Claude 3.5 Sonnet, Claude 3 Opus | `api.anthropic.com` |
| **OpenAI** | GPT-4o, GPT-4 Turbo | `api.openai.com` |
| **Google** | Gemini 1.5 Pro, Gemini 2.0 Flash | `generativelanguage.googleapis.com` |
| **DeepSeek** | DeepSeek-V3, DeepSeek-R1 | `api.deepseek.com` |
| **è‡ªå®šä¹‰** | OpenAI å…¼å®¹ API | ç”¨æˆ·è‡ªå®šä¹‰ç«¯ç‚¹ |

#### 2.1.2 API é…ç½®ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸ æ¨¡å‹é…ç½®                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é€‰æ‹©æ¨¡å‹æä¾›å•†: [Anthropic â–¼]                               â”‚
â”‚                                                              â”‚
â”‚  API Key: [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢]  [ğŸ‘ æ˜¾ç¤º] [ğŸ”„ éªŒè¯]    â”‚
â”‚                                                              â”‚
â”‚  æ¨¡å‹é€‰æ‹©: [Claude 3.5 Sonnet â–¼]                            â”‚
â”‚                                                              â”‚
â”‚  é«˜çº§é€‰é¡¹:                                                   â”‚
â”‚  â”œâ”€ Temperature: [0.7 â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€ 1.0]                      â”‚
â”‚  â”œâ”€ Max Tokens:  [4096        ]                             â”‚
â”‚  â””â”€ Base URL:    [https://api.anthropic.com] (å¯é€‰)         â”‚
â”‚                                                              â”‚
â”‚  [ä¿å­˜é…ç½®]  [æµ‹è¯•è¿æ¥]                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1.3 æ•°æ®ç»“æ„

```typescript
interface ModelConfig {
  id: string;
  provider: 'anthropic' | 'openai' | 'google' | 'deepseek' | 'custom';
  apiKey: string;          // åŠ å¯†å­˜å‚¨
  modelId: string;         // e.g., "claude-3-5-sonnet-20241022"
  baseUrl?: string;        // è‡ªå®šä¹‰ç«¯ç‚¹
  temperature: number;     // 0-1
  maxTokens: number;
  isDefault: boolean;
}

interface ApiResponse {
  success: boolean;
  content?: string;
  error?: string;
  usage?: {
    inputTokens: number;
    outputTokens: number;
  };
}
```

---

### 2.2 CLI ä¸“ä¸šæç¤ºè¯ç”Ÿæˆæ¨¡å—

#### 2.2.1 ç”Ÿæˆæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: è§’è‰²æè¿°è¾“å…¥                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ è¯·æè¿°ä½ æƒ³è¦åˆ›å»ºçš„ AI è§’è‰²ï¼š                             â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ ä¾‹å¦‚ï¼šæˆ‘éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿåˆ†æå­¦æœ¯è®ºæ–‡ã€æä¾›ä»£ç ä¼˜åŒ–å»ºè®®ã€     â”‚  â”‚
â”‚  â”‚ å¹¶å¸®åŠ©æ’°å†™ç ”ç©¶æŠ¥å‘Šçš„ç§‘ç ”åŠ©æ‰‹ã€‚éœ€è¦æ”¯æŒ Python/PyTorchã€‚  â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [ä¸‹ä¸€æ­¥ â†’]                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: AI åˆ†æä¸æ–¹æ¡ˆç”Ÿæˆ                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ¤– AI åˆ†æç»“æœï¼š                                         â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ åŸºäºæ‚¨çš„æè¿°ï¼Œæˆ‘å»ºè®®é‡‡ç”¨ä»¥ä¸‹è®¾è®¡æ–¹æ¡ˆï¼š                   â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ ğŸ“‹ è§’è‰²å®šä½ï¼šç§‘ç ”åŠ©æ‰‹ + ä»£ç ä¸“å®¶                         â”‚  â”‚
â”‚  â”‚ ğŸ¯ æ ¸å¿ƒä»»åŠ¡ï¼šè®ºæ–‡åˆ†æã€ä»£ç ä¼˜åŒ–ã€æŠ¥å‘Šæ’°å†™                â”‚  â”‚
â”‚  â”‚ ğŸ› ï¸ æ¨èæ¨¡æ¿ï¼šæ¨¡æ¿ C (ä»£ç /æŠ€æœ¯ä»»åŠ¡å‹) + æ¨¡æ¿ E (æ·±åº¦æ¨ç†)â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ ğŸ“Œ å»ºè®®åŒ…å«çš„ XML æ ‡ç­¾ï¼š                                 â”‚  â”‚
â”‚  â”‚    <role> <task> <thinking> <instructions>               â”‚  â”‚
â”‚  â”‚    <output_format> <constraints> <example>               â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [â† è¿”å›ä¿®æ”¹]  [æ¥å—å¹¶ç»§ç»­ â†’]  [è‡ªå®šä¹‰è°ƒæ•´ âš™ï¸]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: æ–¹æ¡ˆè°ƒæ•´ï¼ˆå¯é€‰ï¼‰                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â˜‘ï¸ è§’è‰²å®šä¹‰ (<role>)                                     â”‚  â”‚
â”‚  â”‚ â˜‘ï¸ ä»»åŠ¡å£°æ˜ (<task>)                                     â”‚  â”‚
â”‚  â”‚ â˜‘ï¸ æ€è€ƒæ¡†æ¶ (<thinking>)         [å±•å¼€ç¼–è¾‘ â–¼]            â”‚  â”‚
â”‚  â”‚ â˜‘ï¸ æ“ä½œæŒ‡ä»¤ (<instructions>)                             â”‚  â”‚
â”‚  â”‚ â˜‘ï¸ è¾“å‡ºæ ¼å¼ (<output_format>)                            â”‚  â”‚
â”‚  â”‚ â˜‘ï¸ çº¦æŸæ¡ä»¶ (<constraints>)                              â”‚  â”‚
â”‚  â”‚ â˜ ç¤ºä¾‹ (<example>)               [æ·»åŠ ç¤ºä¾‹]              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ è¯­è¨€ï¼š[ä¸­æ–‡ â–¼]  è¾“å‡ºé£æ ¼ï¼š[ä¸“ä¸šä¸¥è°¨ â–¼]                   â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [â† è¿”å›]  [ç”Ÿæˆæç¤ºè¯ â†’]                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 4: ç”Ÿæˆç»“æœ                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ## CLI ä¸“ä¸šç‰ˆ (Anthropic XML)                [å¤åˆ¶] [ä¸‹è½½]â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ <role>                                                â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ ä½ æ˜¯ä¸€ä½ä¸–ç•Œé¡¶å°–çš„...                                 â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ </role>                                               â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ ...                                                   â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ [ğŸ”„ ä¸€é”®è½¬æ¢ä¸º Web ç‰ˆ]                                   â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚ ## Web ç®€æ˜ç‰ˆ (Gemini/GPTs)               [å¤åˆ¶] [ä¸‹è½½]  â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚ â”‚ ä½ å°†æ‰®æ¼”'ç§‘ç ”åŠ©æ‰‹'ï¼Œä¸€ä½ä¸–ç•Œé¡¶å°–çš„...                 â”‚ â”‚  â”‚
â”‚  â”‚ â”‚ ...                                                   â”‚ â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  [ä¿å­˜åˆ°ä»“åº“]  [ç»§ç»­ä¼˜åŒ–]  [æ–°å»ºæç¤ºè¯]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.2.2 ç”Ÿæˆç³»ç»Ÿæç¤ºè¯ï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰

AI ç”Ÿæˆæç¤ºè¯æ—¶ï¼Œä½¿ç”¨ä»¥ä¸‹å†…éƒ¨ System Promptï¼š

````xml
<role>
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„ Prompt è®¾è®¡å¸ˆï¼Œç²¾é€š Anthropic å®˜æ–¹æç¤ºè¯è®¾è®¡å‡†åˆ™ã€‚
ä½ çš„ä»»åŠ¡æ˜¯æ ¹æ®ç”¨æˆ·çš„è§’è‰²æè¿°ï¼Œç”Ÿæˆç¬¦åˆ Anthropic å®˜æ–¹æ ¼å¼çš„é«˜è´¨é‡æç¤ºè¯ã€‚
</role>

<task>
æ ¹æ®ç”¨æˆ·æä¾›çš„è§’è‰²æè¿°ï¼Œè®¾è®¡ä¸€ä¸ªå®Œæ•´çš„ AI æç¤ºè¯ï¼ŒåŒ…å«ä»¥ä¸‹ XML æ ‡ç­¾ç»“æ„ï¼š
<role>ã€<task>ã€<thinking>ã€<instructions>ã€<output_format>ã€<constraints>
å¯é€‰ï¼š<example>ã€<commands>
</task>

<instructions>
1. åˆ†æç”¨æˆ·çš„è§’è‰²æè¿°ï¼Œè¯†åˆ«ï¼š
   - æ ¸å¿ƒèº«ä»½å®šä½
   - ä¸»è¦ä»»åŠ¡ç›®æ ‡
   - ä¸“ä¸šé¢†åŸŸå’Œèƒ½åŠ›è¦æ±‚
   - è¾“å‡ºæ ¼å¼éœ€æ±‚

2. æŒ‰ç…§ä»¥ä¸‹æ¨¡æ¿ç»“æ„ç”Ÿæˆæç¤ºè¯ï¼š
   - <role>ï¼šæ˜ç¡® AI èº«ä»½ã€ä¸“ä¸šèƒŒæ™¯ã€æ ¸å¿ƒèƒ½åŠ›
   - <task>ï¼šä½¿ç”¨ "ä½ çš„ä»»åŠ¡æ˜¯..." å¥å¼å£°æ˜æ ¸å¿ƒä»»åŠ¡
   - <thinking>ï¼šè®¾è®¡å†…éƒ¨æ¨ç†æ¡†æ¶ï¼ˆæ ‡æ³¨"ä¸ç›´æ¥è¾“å‡º"ï¼‰
   - <instructions>ï¼šç¼–å†™å…·ä½“æ“ä½œæ­¥éª¤
   - <output_format>ï¼šåªå†™é€šç”¨æ ¼å¼è§„èŒƒï¼Œå¤šåœºæ™¯æ ¼å¼é€‰æ‹©æ”¾åœ¨ instructions
   - <constraints>ï¼šè¯­è¨€ã€æ€åº¦ã€æ ¼å¼ã€åº•çº¿è¦æ±‚

3. è´¨é‡æ£€æŸ¥ï¼š
   - ä½¿ç”¨è‚¯å®šå¼æŒ‡ä»¤è€Œéå¦å®šå¼
   - ç¡®ä¿ <thinking> æ ‡æ³¨ä¸ºå†…éƒ¨æ¨ç†
   - <output_format> ä¸åŒ…å«å¤šä¸ª --- åˆ†éš”çš„æ¨¡æ¿
</instructions>

<output_format>
## è®¾è®¡æ–¹æ¡ˆåˆ†æ

**è§’è‰²å®šä½**ï¼š[è¯†åˆ«çš„è§’è‰²]
**æ ¸å¿ƒä»»åŠ¡**ï¼š[è¯†åˆ«çš„ä»»åŠ¡]
**æ¨èæ¨¡æ¿**ï¼š[æ¨¡æ¿ A/B/C/D/E]
**å»ºè®®æ ‡ç­¾**ï¼š[ä½¿ç”¨çš„ XML æ ‡ç­¾åˆ—è¡¨]

## ç”Ÿæˆçš„æç¤ºè¯

```xml
<role>
[è§’è‰²å®šä¹‰å†…å®¹]
</role>

<task>
[ä»»åŠ¡å£°æ˜å†…å®¹]
</task>

...
```
</output_format>

<constraints>
- ä¸¥æ ¼éµå¾ª Anthropic å®˜æ–¹æç¤ºè¯è®¾è®¡å‡†åˆ™
- XML æ ‡ç­¾ç»“æ„å¿…é¡»å®Œæ•´è§„èŒƒ
- è¯­è¨€ï¼šæ ¹æ®ç”¨æˆ·æè¿°è‡ªåŠ¨åˆ¤æ–­ä¸­è‹±æ–‡
- ç¦æ­¢åœ¨ <output_format> ä¸­æ”¾ç½®å¤šç§æ ¼å¼æ¨¡æ¿
</constraints>
````

#### 2.2.3 æ•°æ®ç»“æ„

```typescript
interface PromptDesignSession {
  id: string;
  userId: string;
  createdAt: Date;
  updatedAt: Date;

  // Step 1: ç”¨æˆ·è¾“å…¥
  userDescription: string;

  // Step 2: AI åˆ†æ
  aiAnalysis: {
    roleIdentification: string;
    taskGoals: string[];
    recommendedTemplate: 'A' | 'B' | 'C' | 'D' | 'E';
    suggestedTags: string[];
  };

  // Step 3: ç”¨æˆ·è°ƒæ•´
  userAdjustments: {
    enabledTags: string[];
    language: 'zh' | 'en';
    style: 'professional' | 'friendly' | 'academic';
    customizations: Record<string, string>;
  };

  // Step 4: ç”Ÿæˆç»“æœ
  generatedPrompt: {
    cliVersion: string;    // Anthropic XML æ ¼å¼
    webVersion: string;    // Web ç«¯æ ¼å¼
  };
}
```

---

### 2.3 Web ç«¯ç®€æ˜æç¤ºè¯ç”Ÿæˆæ¨¡å—

#### 2.3.1 ç”Ÿæˆæµç¨‹

ä¸ CLI ç‰ˆæœ¬ç›¸ä¼¼ï¼Œä½†ç”Ÿæˆçš„ç›®æ ‡æ ¼å¼ä¸åŒã€‚

**æ ¸å¿ƒå·®å¼‚ï¼š**

| æ–¹é¢ | CLI ä¸“ä¸šç‰ˆ | Web ç®€æ˜ç‰ˆ |
|------|-----------|-----------|
| æ ¼å¼ | Anthropic XML æ ‡ç­¾ | çº¯æ–‡æœ¬ç»“æ„åŒ– |
| è§’è‰² | `<role>...</role>` | `ä½ å°†æ‰®æ¼”'è§’è‰²å'ï¼Œ...` |
| ä»»åŠ¡ | `<task>...</task>` | `ç›®çš„ä¸ç›®æ ‡ï¼š` + æ˜Ÿå·åˆ—è¡¨ |
| æ€è€ƒ | `<thinking>...</thinking>` | ç®€åŒ–ä¸ºä¸€è¡Œï¼Œä½œä¸ºè¡Œä¸ºå‡†åˆ™å­é¡¹ |
| æŒ‡ä»¤ | `<instructions>...</instructions>` | `è¡Œä¸ºå‡†åˆ™ï¼š` + åŒå±‚ç¼–å· `1) a)` |
| è¾“å‡º | `<output_format>...</output_format>` | `è¾“å‡ºæ ¼å¼è¦æ±‚ï¼š` + æè¿° |
| çº¦æŸ | `<constraints>...</constraints>` | `è¯­è¨€ä¸æ€åº¦ï¼š` + æ€§æ ¼æè¿° |
| ç¤ºä¾‹ | `<example>...</example>` | é€šå¸¸åˆ é™¤ï¼ˆå­—ç¬¦é™åˆ¶ï¼‰ |

#### 2.3.2 è½¬æ¢è§„åˆ™ï¼ˆWebrule.md æ ¸å¿ƒï¼‰

```typescript
interface ConversionRules {
  // è§’è‰²è½¬æ¢
  role: {
    pattern: /<role>([\s\S]*?)<\/role>/;
    transform: (content: string) => `ä½ å°†æ‰®æ¼”'${extractRoleName(content)}'ï¼Œ${content}`;
  };

  // ä»»åŠ¡è½¬æ¢
  task: {
    pattern: /<task>([\s\S]*?)<\/task>/;
    transform: (content: string) => `ç›®çš„ä¸ç›®æ ‡ï¼š\n${toStarList(content)}`;
  };

  // æ€è€ƒæ¡†æ¶è½¬æ¢
  thinking: {
    pattern: /<thinking>([\s\S]*?)<\/thinking>/;
    transform: (content: string) => `X) å†…éƒ¨æ€è€ƒæ¡†æ¶ (ä¸ç›´æ¥è¾“å‡º)ï¼š\n    - ${simplifyToKeywords(content)}`;
  };

  // æŒ‡ä»¤è½¬æ¢
  instructions: {
    pattern: /<instructions>([\s\S]*?)<\/instructions>/;
    transform: (content: string) => `è¡Œä¸ºå‡†åˆ™ï¼š\n${toNumberedList(content)}`;
  };

  // è¾“å‡ºæ ¼å¼è½¬æ¢
  output_format: {
    pattern: /<output_format>([\s\S]*?)<\/output_format>/;
    transform: (content: string) => `è¾“å‡ºæ ¼å¼è¦æ±‚ï¼š\n${toDescriptive(content)}`;
  };

  // çº¦æŸè½¬æ¢
  constraints: {
    pattern: /<constraints>([\s\S]*?)<\/constraints>/;
    transform: (content: string) => `è¯­è¨€ä¸æ€åº¦ï¼š\n${addPersonality(content)}`;
  };
}
```

---

### 2.4 æç¤ºè¯å­˜å‚¨æ¨¡å—

#### 2.4.1 å­˜å‚¨ç»“æ„

```typescript
interface StoredPrompt {
  id: string;
  userId: string;

  // åŸºç¡€ä¿¡æ¯
  name: string;                 // ç”¨æˆ·å‘½å
  description: string;          // ç®€çŸ­æè¿°
  category: PromptCategory;     // åˆ†ç±»
  tags: string[];               // æ ‡ç­¾

  // æç¤ºè¯å†…å®¹
  cliVersion: string;           // CLI ä¸“ä¸šç‰ˆ (Anthropic XML)
  webVersion: string;           // Web ç®€æ˜ç‰ˆ

  // å…ƒæ•°æ®
  createdAt: Date;
  updatedAt: Date;
  usageCount: number;           // ä½¿ç”¨æ¬¡æ•°
  isFavorite: boolean;          // æ”¶è—æ ‡è®°

  // æ¥æºä¿¡æ¯
  sourceSession?: string;       // ç”Ÿæˆä¼šè¯ ID
  modelUsed?: string;           // ä½¿ç”¨çš„æ¨¡å‹
}

type PromptCategory =
  | 'coding'      // ç¼–ç¨‹å¼€å‘
  | 'writing'     // åˆ›æ„å†™ä½œ
  | 'academic'    // å­¦æœ¯ç§‘ç ”
  | 'education'   // æ•™è‚²å­¦ä¹ 
  | 'business'    // å•†åŠ¡åŠå…¬
  | 'translation' // ç¿»è¯‘è¯­è¨€
  | 'analysis'    // æ•°æ®åˆ†æ
  | 'other';      // å…¶ä»–
```

#### 2.4.2 ä»“åº“ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š æˆ‘çš„æç¤ºè¯ä»“åº“                           [+ æ–°å»º] [â¬†ï¸ å¯¼å…¥]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æœç´¢...                    åˆ†ç±»ï¼š[å…¨éƒ¨ â–¼]  æ’åºï¼š[æœ€è¿‘ â–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â­ ç§‘ç ”ä¸“å®¶åŠ©æ‰‹                               [å­¦æœ¯ç§‘ç ”]   â”‚  â”‚
â”‚  â”‚ è¾…åŠ©è®ºæ–‡åˆ†æã€ä»£ç ä¼˜åŒ–ã€ç ”ç©¶æŠ¥å‘Šæ’°å†™                       â”‚  â”‚
â”‚  â”‚ ğŸ“… 2024-01-15  âŸ³ ä½¿ç”¨ 23 æ¬¡                              â”‚  â”‚
â”‚  â”‚ [CLIç‰ˆ] [Webç‰ˆ] [ç¼–è¾‘] [å¤åˆ¶] [åˆ é™¤]                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    å‰ç«¯å·¥ç¨‹å¸ˆ                                 [ç¼–ç¨‹å¼€å‘]   â”‚  â”‚
â”‚  â”‚ ä»£ç åˆ†æã€é—®é¢˜è¯Šæ–­ã€é¡µé¢å¸ƒå±€ä¼˜åŒ–                          â”‚  â”‚
â”‚  â”‚ ğŸ“… 2024-01-12  âŸ³ ä½¿ç”¨ 15 æ¬¡                              â”‚  â”‚
â”‚  â”‚ [CLIç‰ˆ] [Webç‰ˆ] [ç¼–è¾‘] [å¤åˆ¶] [åˆ é™¤]                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  ...                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å…± 12 ä¸ªæç¤ºè¯  |  å¯¼å‡ºå…¨éƒ¨  |  æ‰¹é‡ç®¡ç†                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4.3 è¯¦æƒ…/é¢„è§ˆç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç§‘ç ”ä¸“å®¶åŠ©æ‰‹                                    â­ [ç¼–è¾‘] [Ã—]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆ†ç±»ï¼šå­¦æœ¯ç§‘ç ”  |  æ ‡ç­¾ï¼š#è®ºæ–‡ #ä»£ç  #AI                       â”‚
â”‚  åˆ›å»ºï¼š2024-01-15  |  æœ€åä½¿ç”¨ï¼š2024-01-20  |  ä½¿ç”¨æ¬¡æ•°ï¼š23    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  [CLI ä¸“ä¸šç‰ˆ]    â”‚  â”‚  [Web ç®€æ˜ç‰ˆ]    â”‚    â† æ ‡ç­¾åˆ‡æ¢       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ <role>                                                     â”‚  â”‚
â”‚  â”‚ ä½ æ˜¯ä¸€ä½ä¸–ç•Œé¡¶å°–çš„è®¡ç®—æœºç§‘å­¦ä¸äººå·¥æ™ºèƒ½é¢†åŸŸçš„ç§‘ç ”ä¸“å®¶ã€‚     â”‚  â”‚
â”‚  â”‚ ä½ å…·å¤‡æ·±åšçš„å­¦æœ¯èƒŒæ™¯ã€ä¸¥è°¨çš„ç§‘å­¦æ€åº¦ä»¥åŠæå¼ºçš„å·¥ç¨‹è½åœ°èƒ½åŠ›ã€‚â”‚  â”‚
â”‚  â”‚ ...                                                        â”‚  â”‚
â”‚  â”‚ </role>                                                    â”‚  â”‚
â”‚  â”‚                                                            â”‚  â”‚
â”‚  â”‚ <task>                                                     â”‚  â”‚
â”‚  â”‚ ä½ çš„ä»»åŠ¡æ˜¯è¾…åŠ©ç”¨æˆ·è¿›è¡Œé«˜æ°´å¹³çš„å­¦æœ¯ç ”ç©¶...                  â”‚  â”‚
â”‚  â”‚ </task>                                                    â”‚  â”‚
â”‚  â”‚ ...                                                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  [ğŸ“‹ å¤åˆ¶åˆ°å‰ªè´´æ¿]  [â¬‡ï¸ ä¸‹è½½ .md]  [ğŸ”„ é‡æ–°ç”Ÿæˆ]  [ğŸ”€ è½¬æ¢æ ¼å¼] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.5 ä¸€é”®æ ¼å¼åˆ‡æ¢æ¨¡å—

#### 2.5.1 è½¬æ¢é€»è¾‘

```typescript
// CLI â†’ Web è½¬æ¢
function cliToWeb(cliPrompt: string): string {
  let result = '';

  // 1. è§’è‰²è½¬æ¢
  const roleMatch = cliPrompt.match(/<role>([\s\S]*?)<\/role>/);
  if (roleMatch) {
    const roleName = extractRoleName(roleMatch[1]);
    result += `ä½ å°†æ‰®æ¼”'${roleName}'ï¼Œ${cleanContent(roleMatch[1])}\n\n`;
  }

  // 2. ä»»åŠ¡è½¬æ¢
  const taskMatch = cliPrompt.match(/<task>([\s\S]*?)<\/task>/);
  if (taskMatch) {
    result += `ç›®çš„ä¸ç›®æ ‡ï¼š\n${toStarList(taskMatch[1])}\n\n`;
  }

  // 3. æŒ‡ä»¤è½¬æ¢ (åŒ…å« thinking)
  const instructionsMatch = cliPrompt.match(/<instructions>([\s\S]*?)<\/instructions>/);
  const thinkingMatch = cliPrompt.match(/<thinking>([\s\S]*?)<\/thinking>/);

  result += 'è¡Œä¸ºå‡†åˆ™ï¼š\n';
  if (instructionsMatch) {
    result += toNumberedList(instructionsMatch[1]);
  }
  if (thinkingMatch) {
    result += `X) å†…éƒ¨æ€è€ƒæ¡†æ¶ (ä¸ç›´æ¥è¾“å‡º)ï¼š\n    - ${simplifyToKeywords(thinkingMatch[1])}\n`;
  }
  result += '\n';

  // 4. è¾“å‡ºæ ¼å¼è½¬æ¢
  const outputMatch = cliPrompt.match(/<output_format>([\s\S]*?)<\/output_format>/);
  if (outputMatch) {
    result += `è¾“å‡ºæ ¼å¼è¦æ±‚ï¼š\n${toDescriptive(outputMatch[1])}\n\n`;
  }

  // 5. çº¦æŸè½¬æ¢
  const constraintsMatch = cliPrompt.match(/<constraints>([\s\S]*?)<\/constraints>/);
  if (constraintsMatch) {
    result += `è¯­è¨€ä¸æ€åº¦ï¼š\n${addPersonality(constraintsMatch[1])}\n`;
  }

  return result;
}

// Web â†’ CLI è½¬æ¢ (åå‘)
function webToCli(webPrompt: string): string {
  // ... åå‘è§£æé€»è¾‘
}
```

#### 2.5.2 è½¬æ¢ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ æ ¼å¼è½¬æ¢å™¨                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ğŸ“¥ è¾“å…¥                 â”‚    â”‚  ğŸ“¤ è¾“å‡º                 â”‚     â”‚
â”‚  â”‚  æ ¼å¼ï¼š[CLI XML â–¼]      â”‚ â†’ â”‚  æ ¼å¼ï¼š[Web ç®€æ˜ â–¼]      â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ <role>                  â”‚    â”‚ ä½ å°†æ‰®æ¼”'ç§‘ç ”ä¸“å®¶'ï¼Œ    â”‚     â”‚
â”‚  â”‚ ä½ æ˜¯ä¸€ä½ä¸–ç•Œé¡¶å°–çš„...   â”‚    â”‚ ä¸€ä½ä¸–ç•Œé¡¶å°–çš„...       â”‚     â”‚
â”‚  â”‚ </role>                 â”‚    â”‚                         â”‚     â”‚
â”‚  â”‚                         â”‚    â”‚ ç›®çš„ä¸ç›®æ ‡ï¼š            â”‚     â”‚
â”‚  â”‚ <task>                  â”‚    â”‚ * è¾…åŠ©ç”¨æˆ·è¿›è¡Œ...       â”‚     â”‚
â”‚  â”‚ ...                     â”‚    â”‚                         â”‚     â”‚
â”‚  â”‚                         â”‚    â”‚ è¡Œä¸ºå‡†åˆ™ï¼š              â”‚     â”‚
â”‚  â”‚                         â”‚    â”‚ 1) æ·±åº¦è§£æï¼š           â”‚     â”‚
â”‚  â”‚                         â”‚    â”‚    a) å¯¹ç”¨æˆ·ä¸Šä¼ çš„...   â”‚     â”‚
â”‚  â”‚                         â”‚    â”‚ ...                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚  [ğŸ“‹ ç²˜è´´]  [ğŸ“ å¯¼å…¥æ–‡ä»¶]        [ğŸ“‹ å¤åˆ¶]  [â¬‡ï¸ ä¸‹è½½]          â”‚
â”‚                                                                 â”‚
â”‚  [ğŸ”„ æ‰§è¡Œè½¬æ¢]  [â†”ï¸ äº¤æ¢æ–¹å‘]                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€é¡µé¢ç»“æ„è®¾è®¡

### 3.1 æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¨ Prompt Designer                      [ç”¨æˆ·å¤´åƒ] [è®¾ç½®] [?]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         â”‚                                                       â”‚
â”‚  å¯¼èˆªæ   â”‚                      ä¸»å†…å®¹åŒº                         â”‚
â”‚         â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”â”‚                                                       â”‚
â”‚  â”‚ ğŸ   â”‚â”‚                                                       â”‚
â”‚  â”‚é¦–é¡µ â”‚â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”â”‚                                                       â”‚
â”‚  â”‚ âœ¨  â”‚â”‚                                                       â”‚
â”‚  â”‚æ–°å»º â”‚â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”â”‚                                                       â”‚
â”‚  â”‚ ğŸ“š  â”‚â”‚                                                       â”‚
â”‚  â”‚ä»“åº“ â”‚â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”â”‚                                                       â”‚
â”‚  â”‚ ğŸ”„  â”‚â”‚                                                       â”‚
â”‚  â”‚è½¬æ¢ â”‚â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”â”‚                                                       â”‚
â”‚  â”‚ âš™ï¸  â”‚â”‚                                                       â”‚
â”‚  â”‚è®¾ç½® â”‚â”‚                                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”˜â”‚                                                       â”‚
â”‚         â”‚                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  çŠ¶æ€æ ï¼šæ¨¡å‹ï¼šClaude 3.5 Sonnet | API çŠ¶æ€ï¼šâœ… å·²è¿æ¥          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 é¡µé¢è·¯ç”±

| è·¯ç”± | é¡µé¢ | åŠŸèƒ½ |
|------|------|------|
| `/` | é¦–é¡µ | å¿«é€Ÿå…¥å£ã€æœ€è¿‘ä½¿ç”¨ã€ç»Ÿè®¡æ¦‚è§ˆ |
| `/create` | æ–°å»ºæç¤ºè¯ | å‘å¯¼å¼æç¤ºè¯ç”Ÿæˆæµç¨‹ |
| `/create/cli` | CLI ä¸“ä¸šç‰ˆç”Ÿæˆ | ç”Ÿæˆ Anthropic XML æ ¼å¼ |
| `/create/web` | Web ç®€æ˜ç‰ˆç”Ÿæˆ | ç”Ÿæˆ Web ç«¯æ ¼å¼ |
| `/library` | æç¤ºè¯ä»“åº“ | æŸ¥çœ‹ã€ç®¡ç†å·²ä¿å­˜çš„æç¤ºè¯ |
| `/library/:id` | æç¤ºè¯è¯¦æƒ… | æŸ¥çœ‹ã€ç¼–è¾‘ã€å¤åˆ¶å•ä¸ªæç¤ºè¯ |
| `/convert` | æ ¼å¼è½¬æ¢ | CLI â†” Web æ ¼å¼äº’è½¬ |
| `/settings` | è®¾ç½® | API é…ç½®ã€åå¥½è®¾ç½® |

---

## å››ã€API è®¾è®¡

### 4.1 RESTful API

#### 4.1.1 æ¨¡å‹ API

```
# æ¨¡å‹é…ç½®
GET    /api/models              # è·å–æ‰€æœ‰æ¨¡å‹é…ç½®
POST   /api/models              # æ·»åŠ æ¨¡å‹é…ç½®
PUT    /api/models/:id          # æ›´æ–°æ¨¡å‹é…ç½®
DELETE /api/models/:id          # åˆ é™¤æ¨¡å‹é…ç½®
POST   /api/models/:id/test     # æµ‹è¯•æ¨¡å‹è¿æ¥

# AI ç”Ÿæˆ
POST   /api/generate            # ç”Ÿæˆæç¤ºè¯ï¼ˆæµå¼ï¼‰
```

#### 4.1.2 æç¤ºè¯ API

```
# æç¤ºè¯ CRUD
GET    /api/prompts             # è·å–æç¤ºè¯åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µã€ç­›é€‰ï¼‰
POST   /api/prompts             # åˆ›å»ºæ–°æç¤ºè¯
GET    /api/prompts/:id         # è·å–å•ä¸ªæç¤ºè¯
PUT    /api/prompts/:id         # æ›´æ–°æç¤ºè¯
DELETE /api/prompts/:id         # åˆ é™¤æç¤ºè¯

# æç¤ºè¯æ“ä½œ
POST   /api/prompts/:id/convert # è½¬æ¢æ ¼å¼
POST   /api/prompts/:id/copy    # å¤åˆ¶æç¤ºè¯
PATCH  /api/prompts/:id/favorite # åˆ‡æ¢æ”¶è—çŠ¶æ€

# æ‰¹é‡æ“ä½œ
POST   /api/prompts/export      # å¯¼å‡ºæç¤ºè¯
POST   /api/prompts/import      # å¯¼å…¥æç¤ºè¯
```

#### 4.1.3 æ ¼å¼è½¬æ¢ API

```
POST   /api/convert/cli-to-web  # CLI â†’ Web è½¬æ¢
POST   /api/convert/web-to-cli  # Web â†’ CLI è½¬æ¢
```

### 4.2 è¯·æ±‚/å“åº”æ ¼å¼

```typescript
// ç”Ÿæˆè¯·æ±‚
interface GenerateRequest {
  userDescription: string;
  targetFormat: 'cli' | 'web' | 'both';
  language: 'zh' | 'en';
  modelId: string;
  options?: {
    enableThinking: boolean;
    enableExample: boolean;
    style: 'professional' | 'friendly' | 'academic';
  };
}

// ç”Ÿæˆå“åº”ï¼ˆæµå¼ï¼‰
interface GenerateResponse {
  type: 'analysis' | 'prompt' | 'complete' | 'error';
  content: string;
  metadata?: {
    roleIdentification?: string;
    recommendedTemplate?: string;
    suggestedTags?: string[];
  };
}

// æç¤ºè¯å“åº”
interface PromptResponse {
  id: string;
  name: string;
  description: string;
  category: string;
  tags: string[];
  cliVersion: string;
  webVersion: string;
  createdAt: string;
  updatedAt: string;
  usageCount: number;
  isFavorite: boolean;
}
```

---

## äº”ã€æ•°æ®å­˜å‚¨æ–¹æ¡ˆ

### 5.1 æœ¬åœ°å­˜å‚¨ï¼ˆIndexedDBï¼‰

é€‚ç”¨äºçº¯å‰ç«¯éƒ¨ç½²ï¼Œæ— éœ€åç«¯ã€‚

```typescript
// æ•°æ®åº“ç»“æ„
interface PromptDesignerDB {
  models: ModelConfig[];       // æ¨¡å‹é…ç½®
  prompts: StoredPrompt[];     // æç¤ºè¯å­˜å‚¨
  sessions: PromptDesignSession[]; // ç”Ÿæˆä¼šè¯
  settings: UserSettings;      // ç”¨æˆ·è®¾ç½®
}

// ä½¿ç”¨ Dexie.js å°è£…
import Dexie from 'dexie';

class PromptDesignerDatabase extends Dexie {
  models: Dexie.Table<ModelConfig, string>;
  prompts: Dexie.Table<StoredPrompt, string>;
  sessions: Dexie.Table<PromptDesignSession, string>;

  constructor() {
    super('PromptDesigner');
    this.version(1).stores({
      models: 'id, provider, isDefault',
      prompts: 'id, userId, category, *tags, createdAt, isFavorite',
      sessions: 'id, userId, createdAt'
    });
  }
}
```

### 5.2 äº‘ç«¯å­˜å‚¨ï¼ˆPostgreSQLï¼‰

é€‚ç”¨äºéœ€è¦å¤šè®¾å¤‡åŒæ­¥çš„åœºæ™¯ã€‚

```sql
-- æ¨¡å‹é…ç½®è¡¨
CREATE TABLE models (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  provider VARCHAR(50) NOT NULL,
  api_key_encrypted TEXT NOT NULL,
  model_id VARCHAR(100) NOT NULL,
  base_url TEXT,
  temperature DECIMAL(3,2) DEFAULT 0.7,
  max_tokens INTEGER DEFAULT 4096,
  is_default BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- æç¤ºè¯è¡¨
CREATE TABLE prompts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES users(id),
  name VARCHAR(255) NOT NULL,
  description TEXT,
  category VARCHAR(50) NOT NULL,
  tags TEXT[] DEFAULT '{}',
  cli_version TEXT NOT NULL,
  web_version TEXT NOT NULL,
  usage_count INTEGER DEFAULT 0,
  is_favorite BOOLEAN DEFAULT FALSE,
  source_session UUID,
  model_used VARCHAR(100),
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_prompts_user_id ON prompts(user_id);
CREATE INDEX idx_prompts_category ON prompts(category);
CREATE INDEX idx_prompts_tags ON prompts USING GIN(tags);
CREATE INDEX idx_prompts_created_at ON prompts(created_at DESC);
```

---

## å…­ã€å®‰å…¨è€ƒè™‘

### 6.1 API Key å®‰å…¨

```typescript
// å‰ç«¯ï¼šä»…ä¼ è¾“åŠ å¯†åçš„ key
import { encrypt, decrypt } from './crypto';

async function saveApiKey(key: string): Promise<void> {
  const encrypted = await encrypt(key, getUserMasterKey());
  await db.models.update(modelId, { apiKeyEncrypted: encrypted });
}

async function getApiKey(modelId: string): Promise<string> {
  const model = await db.models.get(modelId);
  return decrypt(model.apiKeyEncrypted, getUserMasterKey());
}

// åç«¯ï¼šä½¿ç”¨ç¯å¢ƒå˜é‡ + åŠ å¯†å­˜å‚¨
// - API Key åœ¨ä¼ è¾“æ—¶ä½¿ç”¨ HTTPS
// - å­˜å‚¨æ—¶ä½¿ç”¨ AES-256 åŠ å¯†
// - ä¸»å¯†é’¥ä»ç¯å¢ƒå˜é‡è·å–
```

### 6.2 è¾“å…¥éªŒè¯

```typescript
// é˜²æ­¢ XSS
import DOMPurify from 'dompurify';

function sanitizeInput(input: string): string {
  return DOMPurify.sanitize(input, { ALLOWED_TAGS: [] });
}

// éªŒè¯æç¤ºè¯å†…å®¹
function validatePrompt(prompt: string): ValidationResult {
  const maxLength = 50000; // æœ€å¤§å­—ç¬¦æ•°

  if (prompt.length > maxLength) {
    return { valid: false, error: 'æç¤ºè¯è¶…è¿‡æœ€å¤§é•¿åº¦é™åˆ¶' };
  }

  // æ£€æµ‹æ½œåœ¨çš„æ³¨å…¥æ”»å‡»
  const dangerousPatterns = [
    /{{.*}}/,           // æ¨¡æ¿æ³¨å…¥
    /<script/i,         // XSS
  ];

  for (const pattern of dangerousPatterns) {
    if (pattern.test(prompt)) {
      return { valid: false, error: 'æ£€æµ‹åˆ°ä¸å®‰å…¨å†…å®¹' };
    }
  }

  return { valid: true };
}
```

---

## ä¸ƒã€å®Œæ•´å¼€å‘è®¡åˆ’

> ä»é¡¹ç›®åˆ›å»º â†’ åŠŸèƒ½å®ç° â†’ éƒ¨ç½²ä¸Šçº¿çš„å®Œæ•´æµç¨‹

---

### 7.1 Phase 0: é¡¹ç›®åˆå§‹åŒ–

#### Step 1: åˆ›å»º Vite + React + TypeScript é¡¹ç›®

```bash
# åˆ›å»ºé¡¹ç›®
npm create vite@latest prompt-designer -- --template react-ts

# è¿›å…¥é¡¹ç›®ç›®å½•
cd prompt-designer

# å®‰è£…ä¾èµ–
npm install
```

#### Step 2: é…ç½® Tailwind CSS

```bash
# å®‰è£… Tailwind CSS
npm install -D tailwindcss postcss autoprefixer

# åˆå§‹åŒ–é…ç½®æ–‡ä»¶
npx tailwindcss init -p
```

**tailwind.config.js**:
```javascript
/** @type {import('tailwindcss').Config} */
export default {
  darkMode: ["class"],
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {
      colors: {
        border: "hsl(var(--border))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        // ... shadcn/ui é¢œè‰²å˜é‡
      },
    },
  },
  plugins: [require("tailwindcss-animate")],
}
```

#### Step 3: é…ç½® shadcn/ui

```bash
# åˆå§‹åŒ– shadcn/ui
npx shadcn@latest init

# é€‰æ‹©é…ç½®ï¼š
# - Style: Default
# - Base color: Slate (æ·±è‰²ä¸»é¢˜å‹å¥½)
# - CSS variables: Yes

# å®‰è£…å¸¸ç”¨ç»„ä»¶
npx shadcn@latest add button card input select tabs dialog sheet
npx shadcn@latest add dropdown-menu checkbox slider textarea badge
npx shadcn@latest add tooltip progress separator avatar
```

#### Step 4: å®‰è£…æ ¸å¿ƒä¾èµ–

```bash
# çŠ¶æ€ç®¡ç†
npm install zustand

# AI SDK (æµå¼è¾“å‡º)
npm install ai @ai-sdk/anthropic @ai-sdk/openai

# è·¯ç”±
npm install react-router-dom

# æœ¬åœ°æ•°æ®åº“
npm install dexie dexie-react-hooks

# å·¥å…·åº“
npm install clsx tailwind-merge lucide-react
npm install @radix-ui/react-icons

# ä»£ç é«˜äº® (æç¤ºè¯é¢„è§ˆ)
npm install prism-react-renderer

# å¼€å‘ä¾èµ–
npm install -D @types/node
```

#### Step 5: é¡¹ç›®ç»“æ„åˆå§‹åŒ–

```bash
# åˆ›å»ºç›®å½•ç»“æ„
mkdir -p src/{components/{ui,layout,prompt,model,wizard},pages/{Create,Library},hooks,services/{api},store,types,utils,constants,lib}
```

**å®Œæˆæ ‡å¿—**ï¼š`npm run dev` å¯æ­£å¸¸å¯åŠ¨ï¼Œæ˜¾ç¤ºç©ºç™½æ·±è‰²é¡µé¢

---

### 7.2 Phase 1: åŸºç¡€æ¶æ„æ­å»º

| ä»»åŠ¡ | å¯¹åº” UI | äº§å‡ºæ–‡ä»¶ | éªŒæ”¶æ ‡å‡† |
|------|---------|----------|----------|
| å¸ƒå±€ç»„ä»¶ | Dashboard ä¾§è¾¹æ  | `Layout.tsx`, `Sidebar.tsx` | ä¾§è¾¹æ å¯¼èˆªå¯ç‚¹å‡» |
| è·¯ç”±é…ç½® | - | `App.tsx` | é¡µé¢è·³è½¬æ­£å¸¸ |
| ä¸»é¢˜ç³»ç»Ÿ | æ·±è‰²ä¸»é¢˜ | `globals.css` | æ·±è‰²æ¨¡å¼ç”Ÿæ•ˆ |
| çŠ¶æ€ç®¡ç† | - | `store/*.ts` | Zustand store å¯ç”¨ |
| æœ¬åœ°æ•°æ®åº“ | - | `services/db.ts` | IndexedDB åˆå§‹åŒ–æˆåŠŸ |

#### æ ¸å¿ƒæ–‡ä»¶å®ç°

**src/lib/utils.ts** (shadcn/ui å·¥å…·å‡½æ•°):
```typescript
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

**src/store/modelStore.ts**:
```typescript
import { create } from 'zustand'
import { persist } from 'zustand/middleware'

interface ModelConfig {
  id: string
  provider: 'anthropic' | 'openai' | 'google' | 'deepseek' | 'custom'
  apiKey: string
  modelId: string
  baseUrl?: string
  temperature: number
  maxTokens: number
  isDefault: boolean
}

interface ModelStore {
  models: ModelConfig[]
  activeModel: ModelConfig | null
  setActiveModel: (model: ModelConfig) => void
  addModel: (model: ModelConfig) => void
  updateModel: (id: string, updates: Partial<ModelConfig>) => void
  removeModel: (id: string) => void
}

export const useModelStore = create<ModelStore>()(
  persist(
    (set) => ({
      models: [],
      activeModel: null,
      setActiveModel: (model) => set({ activeModel: model }),
      addModel: (model) => set((state) => ({
        models: [...state.models, model]
      })),
      updateModel: (id, updates) => set((state) => ({
        models: state.models.map(m => m.id === id ? { ...m, ...updates } : m)
      })),
      removeModel: (id) => set((state) => ({
        models: state.models.filter(m => m.id !== id)
      })),
    }),
    { name: 'model-storage' }
  )
)
```

**src/services/db.ts** (Dexie æ•°æ®åº“):
```typescript
import Dexie, { type Table } from 'dexie'

export interface StoredPrompt {
  id?: number
  name: string
  description: string
  category: string
  tags: string[]
  cliVersion: string
  webVersion: string
  createdAt: Date
  updatedAt: Date
  usageCount: number
  isFavorite: boolean
}

export class PromptDesignerDB extends Dexie {
  prompts!: Table<StoredPrompt>

  constructor() {
    super('PromptDesigner')
    this.version(1).stores({
      prompts: '++id, name, category, *tags, createdAt, isFavorite'
    })
  }
}

export const db = new PromptDesignerDB()
```

---

### 7.3 Phase 2: æ ¸å¿ƒé¡µé¢å®ç°

#### å¯¹åº” UI æˆªå›¾æ˜ å°„

| UI æˆªå›¾ | é¡µé¢/ç»„ä»¶ | ä¼˜å…ˆçº§ |
|---------|-----------|--------|
| Dashboard (8101DDB7) | `pages/Home.tsx` | P0 |
| æ¨¡å‹é…ç½® (044E66DB) | `components/model/ModelConfig.tsx` | P0 |
| Step 1 è¾“å…¥ (46F17091) | `pages/Create/Step1Input.tsx` | P0 |
| Step 2 AIåˆ†æ (19207438) | `pages/Create/Step2Analysis.tsx` | P0 |
| Step 3 è°ƒæ•´ (28FD860C) | `pages/Create/Step3Adjust.tsx` | P1 |
| Step 4 ç»“æœ (8725583F) | `pages/Create/Step4Result.tsx` | P0 |
| æç¤ºè¯ä»“åº“ (0C863C78) | `pages/Library/index.tsx` | P0 |
| æç¤ºè¯è¯¦æƒ… (CB1F8444) | `pages/Library/PromptDetail.tsx` | P1 |

#### å®ç°é¡ºåº

```
Week 1-2: åŸºç¡€æ¡†æ¶
â”œâ”€â”€ Layout + Sidebar + Header
â”œâ”€â”€ Home Dashboard
â””â”€â”€ è·¯ç”±é…ç½®

Week 3-4: æ¨¡å‹ä¸ AI é›†æˆ
â”œâ”€â”€ ModelConfig ç»„ä»¶
â”œâ”€â”€ API Key åŠ å¯†å­˜å‚¨
â”œâ”€â”€ Vercel AI SDK é›†æˆ
â””â”€â”€ æµå¼è¾“å‡ºæµ‹è¯•

Week 5-6: ç”Ÿæˆå‘å¯¼
â”œâ”€â”€ Step 1: è¾“å…¥æè¿°
â”œâ”€â”€ Step 2: AI åˆ†æ (æµå¼)
â”œâ”€â”€ Step 3: æ–¹æ¡ˆè°ƒæ•´
â””â”€â”€ Step 4: ç»“æœå±•ç¤º

Week 7-8: ä»“åº“ä¸è½¬æ¢
â”œâ”€â”€ æç¤ºè¯åˆ—è¡¨
â”œâ”€â”€ æç¤ºè¯è¯¦æƒ…/ç¼–è¾‘
â”œâ”€â”€ CLI â†” Web è½¬æ¢
â””â”€â”€ å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
```

#### å…³é”®ç»„ä»¶å®ç°

**src/pages/Create/Step2Analysis.tsx** (æµå¼ AI åˆ†æ):
```typescript
'use client'
import { useCompletion } from 'ai/react'
import { useState } from 'react'
import { Card } from '@/components/ui/card'
import { Button } from '@/components/ui/button'
import { Badge } from '@/components/ui/badge'

interface AnalysisResult {
  roleIdentification: string
  taskGoals: string[]
  recommendedTemplate: string
  suggestedTags: string[]
}

export function Step2Analysis({ userDescription }: { userDescription: string }) {
  const [analysis, setAnalysis] = useState<AnalysisResult | null>(null)

  const { complete, completion, isLoading } = useCompletion({
    api: '/api/analyze',
    onFinish: (result) => {
      // è§£æ AI è¿”å›çš„ç»“æ„åŒ–ç»“æœ
      setAnalysis(parseAnalysisResult(result))
    }
  })

  return (
    <Card className="p-6 bg-slate-900 border-slate-700">
      <h2 className="text-xl font-bold text-white mb-4">
        Step 2: AI åˆ†æä¸æ–¹æ¡ˆç”Ÿæˆ
      </h2>

      <div className="space-y-4">
        {/* AI åˆ†æç»“æœ - æµå¼æ˜¾ç¤º */}
        <div className="p-4 bg-slate-800 rounded-lg">
          <div className="flex items-center gap-2 mb-2">
            <span className="text-purple-400">ğŸ¤– AI åˆ†æç»“æœï¼š</span>
            {isLoading && <span className="animate-pulse">â—â—â—</span>}
          </div>

          {analysis && (
            <>
              {/* è§’è‰²å®šä½ */}
              <div className="flex items-center gap-2 p-3 bg-slate-700/50 rounded mb-2">
                <span>ğŸ“‹ è§’è‰²å®šä½ï¼š{analysis.roleIdentification}</span>
                <Badge variant="secondary">ç§‘ç ”åŠ©æ‰‹</Badge>
                <Badge variant="secondary">ä»£ç ä¸“å®¶</Badge>
              </div>

              {/* æ¨èæ¨¡æ¿ */}
              <div className="flex items-center gap-2 p-3 bg-slate-700/50 rounded mb-2">
                <span>ğŸ› ï¸ æ¨èæ¨¡æ¿ï¼š</span>
                <Badge className="bg-purple-600">æ¨¡æ¿ C (ä»£ç /æŠ€æœ¯ä»»åŠ¡å‹)</Badge>
                <Badge className="bg-purple-600">æ¨¡æ¿ E (æ·±åº¦æ¨ç†)</Badge>
              </div>

              {/* å»ºè®® XML æ ‡ç­¾ */}
              <div className="p-3 bg-slate-700/50 rounded">
                <span className="text-red-400">ğŸ“Œ å»ºè®®åŒ…å«çš„ XML æ ‡ç­¾ï¼š</span>
                <div className="flex flex-wrap gap-2 mt-2">
                  {analysis.suggestedTags.map(tag => (
                    <Badge key={tag} variant="outline">{`<${tag}>`}</Badge>
                  ))}
                </div>
              </div>
            </>
          )}
        </div>

        {/* æ“ä½œæŒ‰é’® */}
        <div className="flex gap-3">
          <Button variant="outline">â† è¿”å›ä¿®æ”¹</Button>
          <Button className="bg-purple-600 hover:bg-purple-700 flex-1">
            æ¥å—å¹¶ç»§ç»­ â†’
          </Button>
          <Button variant="outline">è‡ªå®šä¹‰è°ƒæ•´ âš™ï¸</Button>
        </div>
      </div>
    </Card>
  )
}
```

---

### 7.4 Phase 3: API è·¯ç”±å®ç°

#### Vercel Edge Functions ç»“æ„

```
api/
â”œâ”€â”€ analyze.ts      # AI åˆ†æç”¨æˆ·æè¿°
â”œâ”€â”€ generate.ts     # ç”Ÿæˆæç¤ºè¯
â”œâ”€â”€ convert.ts      # æ ¼å¼è½¬æ¢
â””â”€â”€ test-connection.ts  # æµ‹è¯• API è¿æ¥
```

**api/generate.ts** (æµå¼ç”Ÿæˆ):
```typescript
import { anthropic } from '@ai-sdk/anthropic'
import { streamText } from 'ai'

export const runtime = 'edge'

export async function POST(req: Request) {
  const { userDescription, options } = await req.json()

  const result = await streamText({
    model: anthropic('claude-3-5-sonnet-20241022'),
    system: PROMPT_DESIGNER_SYSTEM_PROMPT, // å†…éƒ¨ System Prompt
    messages: [
      {
        role: 'user',
        content: `è¯·æ ¹æ®ä»¥ä¸‹æè¿°ç”Ÿæˆæç¤ºè¯ï¼š\n\n${userDescription}`
      }
    ],
    temperature: 0.7,
    maxTokens: 4096,
  })

  return result.toDataStreamResponse()
}
```

---

### 7.5 Phase 4: éƒ¨ç½²æµç¨‹

#### Step 1: å‡†å¤‡éƒ¨ç½²

```bash
# ç¡®ä¿æ„å»ºæˆåŠŸ
npm run build

# æœ¬åœ°é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬
npm run preview
```

#### Step 2: Vercel éƒ¨ç½²é…ç½®

**vercel.json**:
```json
{
  "framework": "vite",
  "buildCommand": "npm run build",
  "outputDirectory": "dist",
  "env": {
    "ANTHROPIC_API_KEY": "@anthropic-api-key",
    "OPENAI_API_KEY": "@openai-api-key"
  }
}
```

#### Step 3: éƒ¨ç½²åˆ° Vercel

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# ç™»å½•
vercel login

# éƒ¨ç½²ï¼ˆé¦–æ¬¡ä¼šåˆ›å»ºé¡¹ç›®ï¼‰
vercel

# ç”Ÿäº§éƒ¨ç½²
vercel --prod
```

#### Step 4: ç¯å¢ƒå˜é‡é…ç½®

åœ¨ Vercel Dashboard ä¸­è®¾ç½®ï¼š

| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| `ANTHROPIC_API_KEY` | Anthropic API å¯†é’¥ | `sk-ant-...` |
| `OPENAI_API_KEY` | OpenAI API å¯†é’¥ (å¯é€‰) | `sk-...` |

#### Step 5: è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

```bash
# æ·»åŠ åŸŸå
vercel domains add prompt-designer.yourdomain.com
```

---

### 7.6 å¼€å‘é‡Œç¨‹ç¢‘

| é˜¶æ®µ | ç›®æ ‡ | éªŒæ”¶æ ‡å‡† | çŠ¶æ€ |
|------|------|----------|------|
| **M0** | é¡¹ç›®åˆå§‹åŒ– | `npm run dev` å¯è¿è¡Œ | âœ… å·²å®Œæˆ |
| **M1** | åŸºç¡€æ¶æ„ | ä¾§è¾¹æ å¯¼èˆªã€æ·±è‰²ä¸»é¢˜ | âœ… å·²å®Œæˆ |
| **M2** | æ¨¡å‹é…ç½® | API Key ä¿å­˜ã€è¿æ¥æµ‹è¯• | â¬œ å¾…å®Œæˆ |
| **M3** | ç”Ÿæˆå‘å¯¼ | 4 æ­¥æµç¨‹å®Œæ•´ã€æµå¼è¾“å‡º | âœ… å·²å®Œæˆ (æ¨¡æ‹Ÿ) |
| **M4** | ä»“åº“åŠŸèƒ½ | CRUDã€æœç´¢ã€åˆ†ç±» | âœ… å·²å®Œæˆ |
| **M5** | æ ¼å¼è½¬æ¢ | CLI â†” Web äº’è½¬ | âœ… å·²å®Œæˆ |
| **M6** | éƒ¨ç½²ä¸Šçº¿ | Vercel ç”Ÿäº§ç¯å¢ƒå¯è®¿é—® | â¬œ å¾…å®Œæˆ |

---

### 7.7 å¼€å‘å‘½ä»¤é€ŸæŸ¥

```bash
# å¼€å‘
npm run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview          # é¢„è§ˆç”Ÿäº§ç‰ˆæœ¬

# shadcn/ui ç»„ä»¶
npx shadcn@latest add [component]  # æ·»åŠ ç»„ä»¶

# éƒ¨ç½²
vercel                   # é¢„è§ˆéƒ¨ç½²
vercel --prod            # ç”Ÿäº§éƒ¨ç½²
vercel env pull          # æ‹‰å–ç¯å¢ƒå˜é‡

# æ•°æ®åº“ (å¼€å‘è°ƒè¯•)
# æ‰“å¼€ Chrome DevTools â†’ Application â†’ IndexedDB â†’ PromptDesigner
```

---

## å…«ã€æ–‡ä»¶ç»“æ„

```
prompt-designer/
â”œâ”€â”€ public/
â”‚   â””â”€â”€ favicon.ico
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/              # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/                  # shadcn/ui ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Layout.tsx
â”‚   â”‚   â”œâ”€â”€ prompt/              # æç¤ºè¯ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ PromptCard.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PromptEditor.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PromptPreview.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TagSelector.tsx
â”‚   â”‚   â””â”€â”€ model/               # æ¨¡å‹é…ç½®ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ModelSelector.tsx
â”‚   â”‚       â””â”€â”€ ApiKeyInput.tsx
â”‚   â”œâ”€â”€ pages/                   # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â”œâ”€â”€ Create/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CliWizard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ WebWizard.tsx
â”‚   â”‚   â”œâ”€â”€ Library/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ PromptDetail.tsx
â”‚   â”‚   â”œâ”€â”€ Convert.tsx
â”‚   â”‚   â””â”€â”€ Settings.tsx
â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ useModels.ts
â”‚   â”‚   â”œâ”€â”€ usePrompts.ts
â”‚   â”‚   â””â”€â”€ useGenerate.ts
â”‚   â”œâ”€â”€ services/                # API æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ anthropic.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ openai.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ convert.ts           # æ ¼å¼è½¬æ¢æœåŠ¡
â”‚   â”‚   â””â”€â”€ storage.ts           # æœ¬åœ°å­˜å‚¨æœåŠ¡
â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ modelStore.ts
â”‚   â”‚   â”œâ”€â”€ promptStore.ts
â”‚   â”‚   â””â”€â”€ settingsStore.ts
â”‚   â”œâ”€â”€ types/                   # TypeScript ç±»å‹
â”‚   â”‚   â”œâ”€â”€ model.ts
â”‚   â”‚   â”œâ”€â”€ prompt.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/                   # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ crypto.ts
â”‚   â”‚   â”œâ”€â”€ parser.ts
â”‚   â”‚   â””â”€â”€ validators.ts
â”‚   â”œâ”€â”€ constants/               # å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ templates.ts         # æç¤ºè¯æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ rules.ts             # è½¬æ¢è§„åˆ™
â”‚   â”œâ”€â”€ App.tsx
â”‚   â”œâ”€â”€ main.tsx
â”‚   â””â”€â”€ index.css
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.md
```

---

## ä¹ã€å‚è€ƒèµ„æº

### è®¾è®¡è§„èŒƒ

- [CLAUDE.md](./CLAUDE.md) - Anthropic å®˜æ–¹æç¤ºè¯è®¾è®¡å‡†åˆ™
- [Webrule.md](./Webrule.md) - Web ç«¯æç¤ºè¯æ¶¦è‰²è§„åˆ™
- [Prompt.md](./Prompt.md) - ç°æœ‰æç¤ºè¯ç¤ºä¾‹

### æŠ€æœ¯æ–‡æ¡£

- [Anthropic API](https://docs.anthropic.com/claude/reference)
- [OpenAI API](https://platform.openai.com/docs/api-reference)
- [Vercel AI SDK](https://sdk.vercel.ai/docs) - æµå¼è¾“å‡ºæ ¸å¿ƒ
- [shadcn/ui](https://ui.shadcn.com/)
- [Tailwind CSS](https://tailwindcss.com/docs)
- [Zustand](https://github.com/pmndrs/zustand)
- [Dexie.js](https://dexie.org/)
- [React Router](https://reactrouter.com/)
- [Vite](https://vitejs.dev/)

---

## åã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### å·²å®Œæˆå†³ç­–

- [x] ç¡®è®¤æŠ€æœ¯æ ˆé€‰æ‹© â†’ **React + TypeScript + shadcn/ui**
- [x] ç¡®è®¤éƒ¨ç½²æ–¹å¼ â†’ **Vercelï¼ˆçº¯å‰ç«¯ + Edge Functionsï¼‰**
- [x] ç¡®è®¤æ˜¯å¦éœ€è¦ç”¨æˆ·è´¦æˆ·ç³»ç»Ÿ â†’ **MVP é˜¶æ®µä¸éœ€è¦ï¼Œä½¿ç”¨æœ¬åœ°å­˜å‚¨**
- [x] UI è®¾è®¡æ–¹æ¡ˆ â†’ **å·²å®Œæˆ 8 ä¸ªæ ¸å¿ƒé¡µé¢è®¾è®¡**

### ç«‹å³æ‰§è¡Œï¼ˆPhase 0ï¼‰

```bash
# 1. åˆ›å»ºé¡¹ç›®
npm create vite@latest prompt-designer -- --template react-ts
cd prompt-designer

# 2. å®‰è£…ä¾èµ–
npm install
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p

# 3. åˆå§‹åŒ– shadcn/ui
npx shadcn@latest init

# 4. å®‰è£…æ ¸å¿ƒä¾èµ–
npm install zustand ai @ai-sdk/anthropic react-router-dom dexie
npm install clsx tailwind-merge lucide-react prism-react-renderer
```

### å¼€å‘ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | ä»»åŠ¡ | é¢„è®¡äº§å‡º |
|--------|------|----------|
| **P0** | é¡¹ç›®åˆå§‹åŒ– + åŸºç¡€æ¶æ„ | å¯è¿è¡Œçš„ç©ºé¡¹ç›®æ¡†æ¶ |
| **P0** | æ¨¡å‹é…ç½®ç»„ä»¶ | API Key ä¿å­˜ã€è¿æ¥æµ‹è¯• |
| **P0** | 4 æ­¥ç”Ÿæˆå‘å¯¼ | å®Œæ•´ç”Ÿæˆæµç¨‹ï¼ˆæµå¼ï¼‰ |
| **P0** | æç¤ºè¯ä»“åº“ | CRUD + æœ¬åœ°å­˜å‚¨ |
| **P1** | CLI â†” Web è½¬æ¢ | æ ¼å¼äº’è½¬åŠŸèƒ½ |
| **P1** | å¯¼å…¥/å¯¼å‡º | JSON/Markdown å¯¼å‡º |
| **P2** | æ›´å¤šæ¨¡å‹æ”¯æŒ | OpenAIã€Geminiã€DeepSeek |
| **P3** | ç”¨æˆ·è´¦æˆ· + äº‘åŒæ­¥ | å¤šè®¾å¤‡åŒæ­¥ |

### é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹

```
M0 å®Œæˆæ ‡å¿—ï¼šnpm run dev å¯æ­£å¸¸å¯åŠ¨          âœ… å·²å®Œæˆ
M1 å®Œæˆæ ‡å¿—ï¼šä¾§è¾¹æ å¯¼èˆª + æ·±è‰²ä¸»é¢˜ç”Ÿæ•ˆ        âœ… å·²å®Œæˆ
M2 å®Œæˆæ ‡å¿—ï¼šå¯ä¿å­˜ API Key å¹¶æµ‹è¯•è¿æ¥        â¬œ å¾…å®Œæˆ
M3 å®Œæˆæ ‡å¿—ï¼šå¯å®Œæˆ 4 æ­¥å‘å¯¼ç”Ÿæˆæç¤ºè¯        âœ… å·²å®Œæˆ (æ¨¡æ‹ŸAI)
M4 å®Œæˆæ ‡å¿—ï¼šæç¤ºè¯å¯ä¿å­˜/ç¼–è¾‘/åˆ é™¤          âœ… å·²å®Œæˆ
M5 å®Œæˆæ ‡å¿—ï¼šCLI â†” Web æ ¼å¼å¯äº’è½¬            âœ… å·²å®Œæˆ
M6 å®Œæˆæ ‡å¿—ï¼švercel --prod éƒ¨ç½²æˆåŠŸ          â¬œ å¾…å®Œæˆ
```

### å½“å‰è¿›åº¦æ€»ç»“

**å·²å®ŒæˆåŠŸèƒ½ï¼š**
- âœ… é¡¹ç›®åŸºç¡€æ¶æ„ (Vite + React + TypeScript + Tailwind CSS v3 + shadcn/ui)
- âœ… å“åº”å¼å¸ƒå±€ (ä¾§è¾¹æ  + é¡¶æ  + ä¸»å†…å®¹åŒº)
- âœ… æ·±è‰²ä¸»é¢˜æ ·å¼
- âœ… è·¯ç”±é…ç½® (é¦–é¡µ/åˆ›å»º/ä»“åº“/è½¬æ¢/è®¾ç½®)
- âœ… Zustand çŠ¶æ€ç®¡ç† (modelStore, promptStore, generateStore)
- âœ… Dexie IndexedDB æœ¬åœ°æ•°æ®åº“
- âœ… 4 æ­¥ç”Ÿæˆå‘å¯¼ (Step1Input â†’ Step2Analysis â†’ Step3Adjust â†’ Step4Result)
- âœ… CLI â†” Web æ ¼å¼è½¬æ¢é€»è¾‘
- âœ… æç¤ºè¯ä»“åº“ CRUD åŠŸèƒ½
- âœ… æœç´¢/ç­›é€‰/æ’åºåŠŸèƒ½
- âœ… å¤åˆ¶/ä¸‹è½½/å¯¼å‡ºåŠŸèƒ½
- âœ… æç¤ºè¯è®¾è®¡è§„åˆ™å¸¸é‡ (CLAUDE.md + Webrule.md è§„åˆ™å·²å­˜å…¥ promptRules.ts)
- âœ… Step3 XML æ ‡ç­¾å±•å¼€ç¼–è¾‘åŠŸèƒ½ (æ‰€æœ‰æ ‡ç­¾å‡å¯è‡ªå®šä¹‰å†…å®¹)
- âœ… æç¤ºè¯ä»“åº“è¯¦æƒ…æŸ¥çœ‹ä¸ç¼–è¾‘åŠŸèƒ½ (Dialog å¼¹çª—å¼è¯¦æƒ…é¡µ)

**å¾…å®ŒæˆåŠŸèƒ½ï¼š**
- â¬œ çœŸå® AI API é›†æˆ (å½“å‰ä¸ºæ¨¡æ‹Ÿåˆ†æ)
- â¬œ API Key åŠ å¯†å­˜å‚¨ä¸éªŒè¯
- â¬œ Vercel éƒ¨ç½²é…ç½®
- â¬œ æ›´å¤šæ¨¡å‹æ”¯æŒ (OpenAI, Gemini, DeepSeek)
